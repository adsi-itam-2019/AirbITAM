<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mapbox-gl/0.53.1/mapbox-gl.css">
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.js'></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="script.js"></script>



    <script>
        var sideinfoheight = 0;
        $(document).ready(function () {
            sideinfoheight = $("#side-info").height();
            console.log(sideinfoheight);
            $("#map").css("height", sideinfoheight / 2.5 + "px").delay(200);
        });
    </script>
    <script>
        var slideIndex2 = 1;
        showSlides2(slideIndex2);

        // Next/previous controls
        function plusSlides2(n) {
            showSlides2(slideIndex2 += n);
        }

        // Thumbnail image controls
        function currentSlide2(n) {
            showSlides2(slideIndex2 = n);
        }

        function showSlides2(n) {
            var i;
            var slides2 = document.getElementsByClassName("mySlides2");
            var dots2 = document.getElementsByClassName("dot2");
            if (n > slides2.length) {
                slideIndex2 = 1
            }
            if (n < 1) {
                slideIndex2 = slides2.length
            }
            for (i = 0; i < slides2.length; i++) {
                slides2[i].style.display = "none";
            }
            for (i = 0; i < dots2.length; i++) {
                dots2[i].className = dots2[i].className.replace(" active", "");
            }
            slides2[slideIndex2 - 1].style.display = "block";
            dots2[slideIndex2 - 1].className += " active";
        }
    </script>
    <title>AirbITAM</title>
</head>

<body onload="plusSlides2(0), plusSlides(0)">
    <section class="hero is-dark is-fullheight" style="background-color:#07779C">
        <div class="container">
            <!-- Hero head: will stick at the top -->
            <div class="hero-head">
                <header class="navbar">
                    <div class="container">
                        <div class="navbar-brand">
                            <a href="index_sesion.html" class="navbar-item">
                                <!--img class="" src="logo.png" alt="Logo"-->
                                <p class="subtitle is-size-3">AirbITAM</p>
                            </a>
                            <span class="navbar-burger burger has-text-white" data-target="navbarMenu">
                                <span></span>
                                <span></span>
                                <span></span>
                            </span>
                        </div>
                        <div id="navbarMenu" class="navbar-menu">
                            <div class="navbar-end">
                                <span class="navbar-item">
                                    <a class="button is-inverted" onclick="location.href='miInformacion.html'">
                                        <span class="icon">
                                            <i class="fas fa-user"></i>
                                        </span>
                                        <span>Mi Perfil</span>
                                    </a>
                                </span>
                                <span class="navbar-item">
                                    <a class="button" onclick="location.href='index.html'">
                                        <span class="icon">
                                            <i class="fas fa-user-lock"></i>
                                        </span>
                                        <span>Cerrar sesión</span>
                                    </a>
                                </span>
                            </div>
                        </div>
                    </div>
                </header>
            </div>
            <!-- Hero content: will be in the middle -->
            <div class="section">
                <div class="columns">
                    <div class="column">
                        <h2 class="title">Departamento en San Ángel</h2>
                        <div class="is-size-5">
                            <strong>Arrendador</strong>
                            <p>José Miguel Martínez</p>
                            <strong>Correo</strong>
                            <p>josemm@gmail.com</p>
                            <strong>Teléfono</strong>
                            <p>58-96-13-45</p>
                            <strong>Tipo</strong>
                            <p>Departamento</p>
                            <strong>Dirección</strong>
                            <p>Árbol 25, San Ángel, 01000 Ciudad de México, CDMX</p>
                            <strong>Descripcion</strong>
                            <p>Departamento compartido con 3 estudiantes, a 15 minutos caminado del ITAM. Se
                                cuenta con los muebles basicos y una hamaca, ademas cuenta con seguridad en la entrada
                            </p>
                            <br>
                            <button class="button modal-button" data-target="#myModal" aria-haspopup="true">Solicitar cita</button>
                            <button class="button modal-button">Añadir a favoritos</button>
            
                        </div>
                    </div>
                    <div class="column">
                        <!-- Carousel -->
                        <div class="columns">
                            <h2 class="column subtitle">Galería</h2>
                        </div>
                        <div class="" id="carrousel-container">
                            <div class="slideshow-container">
                                <!-- Full-width images with number and caption text -->
                                <div class="mySlides fade">
                                    <div class="numbertext">1 / 3</div>
                                    <img src="https://bit.ly/2VNlMw4" style="width:100%">
                                </div>

                                <div class="mySlides fade">
                                    <div class="numbertext">2 / 3</div>
                                    <img src="https://bit.ly/2VDHwdD" style="width:100%">
                                </div>

                                <div class="mySlides fade">
                                    <div class="numbertext">3 / 3</div>
                                    <img src="https://bit.ly/2UVXfjJ" style="width:100%">
                                </div>

                                <!-- Next and previous buttons -->
                                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                                <a class="next" onclick="plusSlides(1)">&#10095;</a>
                            </div>
                            <!-- The dots/circles -->
                            <div style="text-align:center">
                                <span class="dot" onclick="currentSlide(1)"></span>
                                <span class="dot" onclick="currentSlide(2)"></span>
                                <span class="dot" onclick="currentSlide(3)"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <br>
                <div class="columns">
                    <div class="column is-two-thirds" id="side-info">
                        <div class="columns is-vcentered">
                            <strong class="column is-size-5">Amenidades</strong>
                            <div class="column is-size-4">
                                <i class="fas fa-2x fa-warehouse" style="padding: 10px;"></i>
                                <i class="fas fa-2x fa-car " style="padding: 10px;"></i>
                                <i class="fas fa-2x fa-wifi" style="padding: 10px;"></i>
                                <i class="fas fa-2x fa-dumbbell" style="padding: 10px;"></i>
                                <i class="fas fa-2x fa-paw" style="padding: 10px;"></i>
                            </div>
                        </div>
                        <h2 class="is-size-5">
                            <strong class="">Reseñas recibidas</strong>
                        </h2>
                        <br>
                        <div id="carrousel-container">
                            <div class="slideshow-container">
                                <div class="mySlides2 fade" style="padding: 15px 50px 0px 50px;">
                                    <div class="columns">
                                        <p class="column is-size-6 is-two-thirds">
                                            Departamento bastante amplio, muy agradable estancia y el arrendador es
                                            comprensivo.
                                        </p>
                                        <div class="column has-text-centered">
                                            <span class="icon has-text-warning">
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star-half-alt"></i>
                                                <i class="far fa-star"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="has-text-centered">1 / 3</div>
                                </div>
                                <div class="mySlides2 fade" style="padding: 15px 50px 0px 50px;">
                                    <div class="columns">
                                        <p class="column is-size-6 is-two-thirds">
                                            Aunque el departamento es muy cómodo el arrendador no esta al pendiente de
                                            las
                                            necesidades, se reventó un fusible y estuve 3 dias sin luz.

                                        </p>
                                        <div class="column has-text-centered">
                                            <span class="icon has-text-warning">
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star-half-alt"></i>
                                                <i class="far fa-star"></i>
                                                <i class="far fa-star"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="has-text-centered">2 / 3</div>
                                </div>

                                <div class="mySlides2 fade" style="padding: 15px 50px 0px 50px;">
                                    <div class="columns">
                                        <p class="column is-size-6 is-two-thirds">
                                            El departamento está en perfectas condiciones, arrendador fue muy amable
                                        </p>
                                        <div class="column has-text-centered">
                                            <span class="icon has-text-warning">
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                                <i class="fas fa-star"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="has-text-centered">3 / 3</div>
                                </div>

                                <!-- Next and previous buttons -->
                                <a class="prev" onclick="plusSlides2(-1)">&#10094;</a>
                                <a class="next" onclick="plusSlides2(1)">&#10095;</a>
                            </div>
                            <!-- The dots/circles -->
                            <div style="text-align:center">
                                <span class="dot2" onclick="currentSlide2(1)"></span>
                                <span class="dot2" onclick="currentSlide2(2)"></span>
                                <span class="dot2" onclick="currentSlide2(3)"></span>
                            </div>
                        </div>
                    </div>
                    <div class="column">
                        <strong class="is-size-5">Ubicación</strong>
                        <div id='map' class="border" style="width: 100%; height: 2px;"></div>
                        <script>
                            setTimeout(function () {
                                generateMap();
                            }, 50);

                            function generateMap() {
                                var coordenadas = [-99.197063, 19.340914];
                                mapboxgl.accessToken =
                                    'pk.eyJ1IjoiamFmNGsiLCJhIjoiY2pjM3JoYTY2MTVtaTJxczRvYzdndHMxaiJ9.vxWi3DCNu_dPTtMytbj0Og';
                                var map = new mapboxgl.Map({
                                    container: 'map', // container id
                                    style: 'mapbox://styles/mapbox/streets-v11', // stylesheet location
                                    center: coordenadas, // starting position [lng, lat]    
                                    zoom: 14 // starting zoom
                                });
                                map.addControl(new mapboxgl.NavigationControl(), "top-left");
                                var geojson = {
                                    type: 'FeatureCollection',
                                    features: [{
                                        type: 'Feature',
                                        geometry: {
                                            type: 'Point',
                                            coordinates: coordenadas
                                        }
                                    }]
                                };
                                // add markers to map
                                geojson.features.forEach(function (marker) {

                                    // create a HTML element for each feature
                                    var el = document.createElement('div');
                                    el.className = 'marker';

                                    // make a marker for each feature and add to the map
                                    new mapboxgl.Marker(el)
                                        .setLngLat(marker.geometry.coordinates)
                                        .addTo(map);
                                    new mapboxgl.Marker(el)
                                        .setLngLat(marker.geometry.coordinates)
                                        .setPopup(new mapboxgl.Popup({
                                                offset: 25
                                            }) // add popups
                                            .setHTML('<h3>' + marker.properties.title + '</h3><p>' + marker
                                                .properties
                                                .description + '</p>'))
                                        .addTo(map);
                                });
                            }
                        </script>
                    </div>
                </div>

                <div class="modal" id="myModal">
                    <div class="modal-background"></div>
                    <div class="modal-content">
                        <div class="box">Se ha mandado una alerta al arrendador. El arrendador se pondrá en contacto
                            contigo para asignar una fecha.</div>
                    </div>
                    <button class="modal-close is-large" aria-label="close"></button>
                </div>



            </div>
        </div>
    </section>

    <footer id="footer" class="footer">
        <div id="cont" class="columns has-text-centered">
            <div class="column">
                <ol>
                    <h2 class="subtitle"><strong> AirbITAM ® 2019 </strong></h2>
                    <p>Plataforma que conecta arrendadores de cuartos y departamentos
                        con estudiantes del ITAM.
                    </p>
                </ol>
            </div>
            <div class="column">
                <ol>
                    <h2 class="subtitle"><strong>Ayuda</strong></h2>
                    <p>Preguntas frecuentes</p>
                    <p>Seguridad</p>
                    <p>Requisitos</p>
                    <p>Reglas de uso</p>
                    <p>Aviso de privacidad</p>
                </ol>
            </div>
            <div class="column">
                <h2 class="subtitle"><strong> Contacto </strong></h2>
                <div id="icons">
                    <span class="icon is-large">
                        <a target="_blank" href="https://github.com/adsi-itam-2019/AirbITAM">
                            <i class="fas fa-2x fab fa-facebook"></i>
                        </a>
                    </span>
                    <span class="icon is-large">
                        <a target="_blank" href="https://github.com/adsi-itam-2019/AirbITAM">
                            <i class="fas fa-2x fab fa-twitter"></i>
                        </a>
                    </span>
                    <span class="icon is-large">
                        <a target="_blank" href="https://github.com/adsi-itam-2019/AirbITAM">
                            <i class="fas fa-2x fab fa-github"></i>
                        </a>
                    </span>
                </div>
                <br>
                <span class="icon is-center-large">
                    <a target="_blank" href="https://github.com/adsi-itam-2019/AirbITAM">
                        <i class="fas fa-2x fa-envelope-open-text"></i>
                    </a>
                </span>
                <h4><strong>ayuda@airbITAM.com</strong></h4>
            </div>
        </div>
    </footer>
</body>

</html>
<script>
    document.querySelectorAll('.modal-button').forEach(function (el) {
        el.addEventListener('click', function () {
            var target = document.querySelector(el.getAttribute('data-target'));

            target.classList.add('is-active');

            target.querySelector('.modal-close').addEventListener('click', function () {
                target.classList.remove('is-active');
            });
        });
    });
</script>